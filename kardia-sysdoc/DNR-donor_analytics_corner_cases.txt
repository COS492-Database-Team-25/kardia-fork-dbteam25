Document:   Notes on Donor Analytics Corner Cases
Author:	    David Stirn (DMS)
Date:	    06-Jul-2021
-------------------------------------------------------------------------------


Donor with 1 time gifts: 100400
        35 gifts
        $80 regular giving
        ID 02 is a  $70 extra
        ID 03 is a  $50 extra
        ID 05 is a $260 extra
        ID 07 is a $275 extra


Donor with possible failed catchup merge: 100925

Donor with many catchups: 106743

Donor with two catchup gifts in a row: 107065
	First Merge: 	6 into 7, 3 into 4
	Final Result: 	15 $10 gifts as 1st hist: Dec31-2019->Apr21-2021
			18 $25 gifts as 2nd hist: Jun05-2018->Dec02-2019

Donor 107077 has some weird stuff going on. Looks like some extra gifts mixed into regular giving.
        31 Gifts
	ID 02 is a $150 extra
	ID 04 is a  $30 extra
	ID 06 is a pay in advance for Feb
	ID 05 is a pay in advance for Mar (with no other money for the curr month (feb), bc it 		was already paid)
	ID 10 is a $600 extra
	ID 14 is 1st gift, so no special designation

Donor 127200

Donor 130120 

Should we make it so in the hist data it seperates also by months (ie if they miss a month without a catchup amount it should still be seperated?)
Good example: donor 75107 missed a month in hist id 4 but it is not recorded in there

For donor 108705, shouldn't the ID 01 entry be counted as an extra? Technically not, because it "could" be a pay-ahead for the next several months

Donor 130295
        $150 monthly regular giving
        ID 02 is a payahead for December 2020
        ID 01 is a payahead for a year (based on their established giving pattern)

Donor 100400, ID 6 is not marked as extra : This is an issue of a histogram not getting merged in

Donor 93162, hist ID 3 should not be 0 on current right?

Donor 93036, shouldnt hist id 1 be an increase not decrease? (Ask Greg about how to determine increase, off of the average monthly or amount?)

Donor 75107
        This is very as-able giving and a bit complex for our system to currently handle gracefully

        ID 01 is a payahead for Dec and a gift for Jan
        ID 02 is a payahead for July -> November
        ID 03 is a payahead for June
        ID 04 is a catchup and a payahead for the months of Sept -> May 
        ID 05 is reestablished regular giving
        ID 06 is a payahead for Mar 2019
        ID 08 is a payahead for Nov 2018
        See merge_approx

Donor 100400
        ID 08 doesn't have an "average amount" when it does have multiple donations
        ID 01 doesn't have any information on lapsed days, isCurrent, increase or decrease, or isExtra

Note: Should we do things like increase and decrese when moving from a one-time gift to regular gift, or vice-a-versa? Because then, it could lead to us saying to the missionary "they've decreased their giving" when they haven't. They just simply gave a one-time gift

Donor 107077 I have no idea where it is getting the calculations for increase and decrease pct

Donor 108705, ID 1 should be an extra

Donors who have a hist entry that is approximate. These should be checked to see if those tags are acceptable or if tweaks need made
109498
112378
114014
115702
128066
69559
75107
80267
89169
91224 - i think this one it is more helpful to not approximate
92284
98931
Most recent check: nearly all of them look nice and are helpful

Should we have a lapsed days for one-time gifts and isExtras if the person also gives regularly? Example: 123107, 100400